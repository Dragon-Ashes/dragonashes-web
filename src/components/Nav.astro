---
const path = Astro.url.pathname;
const active = "text-white font-semibold";
const inactive = "text-ashes-300 hover:text-white";
const isActive = (href) =>
  path === href || (href !== "/" && path.startsWith(href + "/")) ? active : inactive;
---
<nav class="sticky top-0 z-50 bg-black/80 backdrop-blur border-b border-white/10">
  <div class="container mx-auto px-4 h-16 flex items-center">
    <!-- Logo (izquierda) -->
    <a href="/" class="flex items-center gap-3 text-white">
      <img
        src="/brand/logo-dragon-ashes.png"
        alt="Dragon Ashes"
        width="40" height="40"
        class="h-10 w-auto select-none"
        loading="eager" fetchpriority="high" draggable="false"
      />
      <span class="font-extrabold text-xl leading-none">
        Dragon <span class="text-brand">Ashes</span>
      </span>
    </a>
    
    <!-- Grupo de enlaces pegado a la derecha -->
    <div class="hidden md:flex items-center gap-6 ml-auto">
      <a href="/sobre-nosotros" class={`transition ${isActive("/sobre-nosotros")}`}>Sobre nosotros</a>
      <a href="/equipo"         class={`transition ${isActive("/equipo")}`}>Equipo</a>
      <a href="/novedades"      class={`transition ${isActive("/novedades")}`}>Novedades</a>
      <a href="/comunidad"      class={`transition ${isActive("/comunidad")}`}>Comunidad</a>
      <a href="/redes"          class={`transition ${isActive("/redes")}`}>Redes</a>
      <a href="/tienda"         class={`transition ${isActive("/tienda")}`}>Tienda</a>
    </div>

    <!-- Menú móvil (sin CTA) -->
    <details class="md:hidden ml-auto">
      <summary class="cursor-pointer text-ashes-300 hover:text-white">Menú</summary>
      <div class="mt-3 flex flex-col gap-2 p-3 rounded-xl border border-white/10 bg-black/95">
        <a href="/sobre-nosotros" class={isActive("/sobre-nosotros")}>Sobre nosotros</a>
        <a href="/equipo"         class={isActive("/equipo")}>Equipo</a>
        <a href="/novedades"      class={isActive("/novedades")}>Novedades</a>
        <a href="/comunidad"      class={isActive("/comunidad")}>Comunidad</a>
        <a href="/redes"          class={isActive("/redes")}>Redes</a>
        <a href="/tienda"         class={isActive("/tienda")}>Tienda</a>
      </div>
    </details>
  </div>
</nav>
